<div class="content">
  <div class="about-section">
    <h2 class="mat-display-2">
      <span class="logo-primary">Template</span> Editor</h2>
    <p class="mat-subheading-2"> </p>
  </div>
  <div *ngIf="!loading">
    <div class="slide-toggle">
      <mat-slide-toggle (keyup.enter)="update()" (blur)="update()" [(ngModel)]="autoFill" color="primary" (click)="checkAutoFill()">Auto Fill</mat-slide-toggle>
    </div>
    <div class="form-section">
      <div class="form-section-left">
        <span *ngIf="!resume.ishidden.basics" (click)="resume.ishidden.basics = true" class="circle">
          <mat-icon>remove</mat-icon>
        </span>
        <span *ngIf="resume.ishidden.basics" (click)="resume.ishidden.basics = false" class="circle">
          <mat-icon>add</mat-icon>
        </span>
        <div class="line"></div>
      </div>
      <div class="form-section-right">
        <div class="title-section">
          <h1 class="mat-display-2">Basic Details</h1>
        </div>

        <mat-divider></mat-divider>

        <div *ngIf="!resume.ishidden.basics" class="form-group">
          <div class="content-section">
            <div class="content-section-right">
              <div class="half">
                <mat-form-field>
                  <input matInput type="txt" placeholder="Name" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.name">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="txt" placeholder="Label" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.label">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="email" placeholder="Email" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.email">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="txt" placeholder="Contact Number" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.phone">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="txt" placeholder="Website" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.website">
                </mat-form-field>
              </div>

              <div class="full">
                <mat-form-field>
                  <textarea matInput placeholder="Summary" matTextareaAutosize matAutosizeMinRows="4" matAutosizeMaxRows="8" (keyup.enter)="update()"
                    (blur)="update()" [(ngModel)]="resume.basics.summary"></textarea>
                </mat-form-field>
              </div>

              <h1 class="mat-headline">
                Location
              </h1>
              <div class="half">
                <mat-form-field>
                  <input matInput type="txt" placeholder="Address" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.location.address">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="txt" placeholder="City" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.location.city">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="txt" placeholder="Post Code" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.location.postalCode">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="txt" placeholder="Region" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.location.region">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="txt" placeholder="Country" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.basics.location.countryCode">
                </mat-form-field>
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>

    <!-- Work Section -->
    <div class="form-section">
      <div class="form-section-left">
        <span *ngIf="!resume.ishidden.work" (click)="resume.ishidden.work = true" class="circle">
          <mat-icon>remove</mat-icon>
        </span>
        <span *ngIf="resume.ishidden.work" (click)="resume.ishidden.work = false" class="circle">
          <mat-icon>add</mat-icon>
        </span>
        <div class="line"></div>
      </div>

      <div class="form-section-right">
        <div class="title-section">
          <h1 class="mat-display-2">Work</h1>
        </div>
        <mat-divider></mat-divider>

        <div *ngIf="!resume.ishidden.work">
          <div *ngFor="let work of resume.work; index as i; trackBy: customTrackBy" class="content-section">
            <div class="content-section-left">
              <button (click)="removeResumeComponent(resume.work,i,true)" mat-fab>
                <mat-icon class="secondary">remove</mat-icon>
              </button>

            </div>
            <div class="content-section-right">
              <div class="full">
                <mat-form-field>
                  <input matInput type="text" placeholder="Company" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="work.company">
                </mat-form-field>

              </div>

              <div class="full">
                <mat-form-field>
                  <input matInput type="text" placeholder="Position" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="work.position">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="text" placeholder="Website" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="work.website">
                </mat-form-field>
              </div>
              <div class="half">
                <mat-form-field>
                  <input matInput type="text" placeholder="Start Date" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="work.startDate">
                </mat-form-field>

                <mat-form-field>
                  <input matInput type="text" placeholder="End Date" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="work.endDate">
                </mat-form-field>
              </div>
              <div class="full">
                <mat-form-field>
                  <textarea matInput placeholder="Summary" matTextareaAutosize matAutosizeMinRows="4" matAutosizeMaxRows="10" (keyup.enter)="update()"
                    (blur)="update()" [(ngModel)]="work.summary"></textarea>
                </mat-form-field>
              </div>

              <!-- Highlights -->
              <div class="full" *ngFor="let highlight of resume.work[i].highlights index as x; trackBy: customTrackBy">
                <div class="content-section ">
                  <div class="content-section-left">
                    <button mat-raised-button (click)="removeResumeComponent(resume.work[i].highlights, x, false)">
                      <mat-icon>remove</mat-icon>
                    </button>
                  </div>
                  <div class="content-section-right nopadding">
                    <mat-form-field>
                      <input matInput type="text" placeholder="Achievement" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.work[i].highlights[x]">
                    </mat-form-field>
                  </div>
                </div>


              </div>
              <div class="content-section">
                <div class="content-section-left">
                  <button (click)="addHighlight(i)" mat-raised-button>
                    <mat-icon class="primary">add</mat-icon>
                  </button>
                </div>
              </div>


            </div>
          </div>
          <div class="content-section">
            <div class="content-section-left">
              <button (click)="addWork()" mat-fab>
                <mat-icon class="primary">add</mat-icon>
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Work Experience Section -->
    <div class="form-section">
      <div class="form-section-left">
        <span *ngIf="!resume.ishidden.volunteer" (click)="resume.ishidden.volunteer = true" class="circle">
          <mat-icon>remove</mat-icon>
        </span>
        <span *ngIf="resume.ishidden.volunteer" (click)="resume.ishidden.volunteer = false" class="circle">
          <mat-icon>add</mat-icon>
        </span>
        <div class="line"></div>
      </div>
      <div class="form-section-right">

        <div class="title-section">
          <h1 class="mat-display-2">Work Experience</h1>
        </div>
        <mat-divider></mat-divider>

        <div *ngIf="!resume.ishidden.volunteer" class="form-group">
          <div *ngFor="let volunteer of resume.volunteer; index as i; trackBy: customTrackBy" class="content-section">

            <div class="content-section-left">
              <button (click)="removeResumeComponent(resume.volunteer, i, true)" mat-fab>
                <mat-icon class="secondary">remove</mat-icon>
              </button>
            </div>

            <div class="content-section-right">
              <div class="full">
                <mat-form-field>
                  <input matInput type="text" placeholder="Organization" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="volunteer.organization">
                </mat-form-field>
              </div>
              <div class="full">
                <mat-form-field>
                  <input matInput type="text" placeholder="Position" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="volunteer.position">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="text" placeholder="Website" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="volunteer.website">
                </mat-form-field>
              </div>
              <div class="half">
                <mat-form-field>
                  <input matInput type="text" placeholder="Start Date" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="volunteer.startDate">
                </mat-form-field>

                <mat-form-field>
                  <input matInput type="text" placeholder="End Date" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="volunteer.endDate">
                </mat-form-field>
              </div>
              <div class="full">
                <mat-form-field>
                  <textarea matInput placeholder="Summary" matTextareaAutosize matAutosizeMinRows="4" matAutosizeMaxRows="10" (keyup.enter)="update()"
                    (blur)="update()" [(ngModel)]="volunteer.summary"></textarea>
                </mat-form-field>
              </div>

              <!-- Volunteer Highlights -->
              <div class="full" *ngFor="let vHighlight of resume.volunteer[i].highlights index as x; trackBy: customTrackBy">
                <div class="content-section">
                  <div class="content-section-left">
                    <button mat-raised-button (click)="removeResumeComponent(resume.volunteer[i].highlights, x, false)">
                      <mat-icon>remove</mat-icon>
                    </button>
                  </div>
                  <div class="content-section-right nopadding">
                    <mat-form-field>
                      <input matInput type="text" placeholder="Achievement" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="resume.volunteer[i].highlights[x]">
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div class="content-section">
                <div class="content-section-left">
                  <button (click)="addVolunteerHighlight(i)" mat-raised-button>
                    <mat-icon class="primary">add</mat-icon>
                  </button>
                </div>
              </div>

            </div>
          </div>

          <div class="content-section">
            <div class="content-section-left">
              <button (click)="addVolunteer()" mat-fab>
                <mat-icon class="primary">add</mat-icon>
              </button>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Education Section -->
    <div class="form-section">
      <div class="form-section-left">
        <span *ngIf="!resume.ishidden.education" (click)="resume.ishidden.education = true" class="circle">
          <mat-icon>remove</mat-icon>
        </span>
        <span *ngIf="resume.ishidden.education" (click)="resume.ishidden.education = false" class="circle">
          <mat-icon>add</mat-icon>
        </span>
        <div class="line"></div>
      </div>
      <div class="form-section-right">

        <div class="title-section">
          <h1 class="mat-display-2">Education</h1>
        </div>
        <mat-divider></mat-divider>
        <div *ngIf="!resume.ishidden.education" class="form-group">
          <div *ngFor="let education of resume.education; index as i; trackBy: customTrackBy" class="content-section">

            <div class="content-section-left">
              <button (click)="removeResumeComponent(resume.education, i, true)" mat-fab>
                <mat-icon class="secondary">remove</mat-icon>
              </button>
            </div>

            <div class="content-section-right">
              <div class="full">
                <mat-form-field>
                  <input matInput type="text" placeholder="Institution" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="education.institution">
                </mat-form-field>
              </div>
              <div class="full">
                <mat-form-field>
                  <input matInput type="text" placeholder="Area" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="education.area">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="text" placeholder="Study Type" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="education.studyType">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="text" placeholder="Score" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="education.gpa">
                </mat-form-field>
              </div>
              <div class="half">
                <mat-form-field>
                  <input matInput type="text" placeholder="Start Date" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="education.startDate">
                </mat-form-field>

                <mat-form-field>
                  <input matInput type="text" placeholder="End Date" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="education.endDate">
                </mat-form-field>
              </div>

              <!-- Education Courses -->
              <div *ngFor="let course of resume.education[i].courses index as x; trackBy: customTrackBy">
                <div class="content-section">
                  <div class="content-section-left">
                    <button mat-raised-button (click)="removeResumeComponent(resume.education[i].courses, x, false)">
                      <mat-icon>remove</mat-icon>
                    </button>
                  </div>
                  <div class="content-section-right nopadding">
                    <div class="full">
                      <mat-form-field>
                        <input matInput type="text" placeholder="Course" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="education.courses[x]">
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>

              <button mat-raised-button (click)="addCourse(i)">
                <mat-icon class="primary">add</mat-icon>
              </button>
            </div>
          </div>

          <div class="content-section">
            <div class="content-section-left">
              <button (click)="addEducation()" mat-fab>
                <mat-icon class="primary">add</mat-icon>
              </button>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Skills Section -->
    <div class="form-section">
      <div class="form-section-left">
        <span *ngIf="!resume.ishidden.skills" (click)="resume.ishidden.skills = true" class="circle">
          <mat-icon>remove</mat-icon>
        </span>
        <span *ngIf="resume.ishidden.skills" (click)="resume.ishidden.skills = false" class="circle">
          <mat-icon>add</mat-icon>
        </span>
        <div class="line"></div>
      </div>
      <div class="form-section-right">

        <div class="title-section">
          <h1 class="mat-display-2">Skills</h1>
        </div>
        <mat-divider></mat-divider>
        <div *ngIf="!resume.ishidden.skills" class="form-group">
          <div *ngFor="let skill of resume.skills; index as i; trackBy: customTrackBy" class="content-section">
            <div class="content-section-left">
              <button (click)="removeResumeComponent(resume.skills, i, false)" mat-fab>
                <mat-icon class="secondary">remove</mat-icon>
              </button>
            </div>
            <div class="content-section-right">
              <div class="full">
                <mat-form-field>
                  <input matInput type="text" placeholder="Skill" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="skill.name">
                </mat-form-field>

                <mat-form-field>
                  <input matInput type="text" placeholder="Skill Level" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="skill.level">
                </mat-form-field>
              </div>

              <div *ngFor="let keyword of resume.skills[i].keywords index as x; trackBy: customTrackBy">
                <div class="content-section">
                  <div class="content-section-left">
                    <button mat-raised-button (click)="removeResumeComponent(resume.skills[i].keywords, x, false)">
                      <mat-icon>remove</mat-icon>
                    </button>
                  </div>
                  <div class="content-section-right nopadding">
                    <div class="half">
                      <mat-form-field>
                        <input matInput type="text" placeholder="Keyword" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="skill.keywords[x]">
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
              <div class="content-section">
                <div class="content-section-left">
                  <button mat-raised-button (click)="addKeyword(i)">
                    <mat-icon class="primary">add</mat-icon>
                  </button>
                </div>
              </div>

            </div>
          </div>
          <div class="content-section">
            <div class="content-section-left">
              <button (click)="addSkill()" mat-fab>
                <mat-icon class="primary">add</mat-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- References Section -->
    <div class="form-section">
      <div class="form-section-left">
        <span *ngIf="!resume.ishidden.references" (click)="resume.ishidden.references = true" class="circle">
          <mat-icon>remove</mat-icon>
        </span>
        <span *ngIf="resume.ishidden.references" (click)="resume.ishidden.references = false" class="circle">
          <mat-icon>add</mat-icon>
        </span>
        <div class="line"></div>
      </div>
      <div class="form-section-right">
        <div class="title-section">
          <h1 class="mat-display-2">References</h1>
        </div>
        <mat-divider></mat-divider>
        <div *ngIf="!resume.ishidden.references" class="form-group">
          <div *ngFor="let reference of resume.references; index as i; trackBy: customTrackBy" class="content-section">
            <div class="content-section-left">
              <button (click)="removeResumeComponent(resume.references, i, true)" mat-fab>
                <mat-icon class="secondary">remove</mat-icon>
              </button>
            </div>
            <div class="content-section-right nopadding">
              <div class="half">
                <mat-form-field>
                  <input matInput type="text" placeholder="Name of Reference" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="reference.name">
                </mat-form-field>

              </div>
              <div class="full">
                <mat-form-field>
                  <textarea matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="8" matInput type="text" placeholder="Reference"
                    (blur)="update()" [(ngModel)]="reference.reference"></textarea>
                </mat-form-field>
              </div>
            </div>
          </div>

          <div class="content-section">
            <div class="content-section-left">
              <button (click)="addReference()" mat-fab>
                <mat-icon class="primary">add</mat-icon>
              </button>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Awards Section -->
    <div class="form-section">
      <div class="form-section-left">
        <span *ngIf="!resume.ishidden.awards" (click)="resume.ishidden.awards = true" class="circle">
          <mat-icon>remove</mat-icon>
        </span>
        <span *ngIf="resume.ishidden.awards" (click)="resume.ishidden.awards = false" class="circle">
          <mat-icon>add</mat-icon>
        </span>
        <div class="line"></div>
      </div>
      <div class="form-section-right">
        <div class="title-section">
          <h1 class="mat-display-2">Awards</h1>
        </div>
        <mat-divider></mat-divider>
        <div *ngIf="!resume.ishidden.awards" class="form-group">
          <div *ngFor="let award of resume.awards; index as i; trackBy: customTrackBy" class="content-section">

            <div class="content-section-left">
              <button (click)="removeResumeComponent(resume.awards, i, false)" mat-fab>
                <mat-icon class="secondary">remove</mat-icon>
              </button>
            </div>

            <div class="content-section-right">
              <div class="half">
                <mat-form-field>
                  <input matInput type="text" placeholder="Title" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="award.title">
                </mat-form-field>

              </div>
              <div class="half">
                <mat-form-field>
                  <input matInput type="text" placeholder="Date" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="award.date">
                </mat-form-field>
                <mat-form-field>
                  <input matInput type="text" placeholder="Awarder" (keyup.enter)="update()" (blur)="update()" [(ngModel)]="award.awarder">
                </mat-form-field>
              </div>
              <div class="full">
                <mat-form-field>
                  <textarea matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="8" matInput type="text" placeholder="Summary" (blur)="update()"
                    [(ngModel)]="award.summary"></textarea>
                </mat-form-field>
              </div>
            </div>

          </div>

          <div class="content-section">
            <div class="content-section-left">
              <button (click)="addAward()" mat-fab>
                <mat-icon class="primary">add</mat-icon>
              </button>
            </div>
          </div>

        </div>
      </div>
    </div>

  </div>

  <div class="center" *ngIf="loading">
    <mat-spinner diameter="90"></mat-spinner>
  </div>
</div>